# OpenClaw Sentinel - Docker Compose (Host Network Mode)
# Use this for full network visibility (sees all host connections)
# Usage: docker compose -f docker-compose.host.yml up -d

services:
  sentinel:
    build: .
    image: ghcr.io/jfr992/openclaw-sentinel:latest
    container_name: openclaw-sentinel
    network_mode: host
    volumes:
      - ~/.openclaw:/data:ro
      - sentinel-data:/app/data
    environment:
      PORT: "5056"
      OPENCLAW_DIR: "/data"
    restart: unless-stopped
    # For full lsof visibility, need SYS_PTRACE capability
    cap_add:
      - SYS_PTRACE
    security_opt:
      - no-new-privileges:true

volumes:
  sentinel-data:
